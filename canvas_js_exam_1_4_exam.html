<!DOCTYPE html> 
<html lang="en"> <!-- ê¸°ë³¸ì–¸ì–´ : ì˜ì–´-->
<head>
    <meta charset="UTF-8" /> <!--í˜ì´ì§€ ì–¸ì–´ ì¸ì½”ë”© í˜•ì‹-->
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/> <!--í™”ë©´í¬ê¸°ì— ë”°ë¼ ë³´ì—¬ì§€ëŠ” í¬ê¸° ë§ì¶”ê¸°-->
    <title>Web Animation(canvas_js_css)[1ë‹¨ì›-3]</title> 
    <style>
        /* í˜ì´ì§€ ì „ì²´ ì„¤ì •*/
        body {
            margin: 0;
            padding: 0;
            text-align: center;
            font-family: sans-serif;
        }
        /* ì• ë‹ˆë©”ì´ì…˜ í™”ë©´ ì„¤ì • */
        #canvas {
            background: #DCD7C9;
            display: block;
            margin: 0 auto;
        }
        /* PCì—ì„œëŠ” 600x600 ê³ ì • */
        @media (min-width: 769px) {
            #canvas {
                width: 600px;
                height: 600px;
          }
        }
    </style> 
</head>
<body>
    <!--ì• ë‹ˆë©”ì´ì…˜ í™”ë©´ ë§Œë“¤ê¸°-->
    <canvas id="canvas"></canvas> 
    <script>
        // ìº”ë²„ìŠ¤ ìš”ì†Œ JS ë³€ìˆ˜ ë§Œë“¤ê¸°
        const drawingBoard = document.getElementById('canvas'); 
        // ìº”ë²„ìŠ¤ì— 2Dê·¸ë¦¼ì„ ê·¸ë¦¬ëŠ” ë„êµ¬ ë³€ìˆ˜ë§Œë“¤ê¸°
        const drawingPen = drawingBoard.getContext('2d'); 

        // ìº”ë²„ìŠ¤ í¬ê¸°ë¥¼ CSSì™€ ë§ì¶°ì¤Œ (ì¤‘ìš”!)
        drawingBoard.width = drawingBoard.clientWidth; 
        drawingBoard.height = drawingBoard.clientHeight; 

        //í™”ë©´ ê°€ìš´ë° ìœ„ì¹˜
        let x = 20; 
        let y = drawingBoard.height - 20;

        //ì£¼ì¸ê³µ ì´ë™ì†ë„
        const moveAmount = 5; 

        let enemyX = 300;
        let enemyY = 300;
        const enemySize = 20;
        let enemyVisible = true; // ì¶©ëŒ ì‹œ falseë¡œ ë³€ê²½

        //ì£¼ì¸ê³µ ì´ë™í•¨ìˆ˜
        function moveRight() {
            x = x + moveAmount;
        }

        function moveLeft() {
            x = x - moveAmount;
        }

        function moveDown() {
            y = y + moveAmount;
        }

        function moveUp() {
            y = y - moveAmount;
        }
        // â˜…1_4 : ì£¼ì¸ê³µ ì´ë™ì œí•œ
        function move_limit(){
            if (x < 0){ //ì™¼ìª½ì´ë™ì œí•œ
                x=0;
            }
            if (x > 590){
                x=590;
            }
            if(y < 0){
                y=0;
            }
            if(y > 590){
                y=590;
            }



        }
        // â˜…1_4 : ìº”ë²„ìŠ¤ ì™¼ìª½ ìƒë‹¹ì— í…ìŠ¤íŠ¸ ì¶œë ¥í•¨ìˆ˜
        function drawCoordinate() {
            drawingPen.fillStyle = 'black';
            drawingPen.foot = '10px sans-serif';
            drawingPen.fillText(`x: ${x} y: ${y}`, 10, 20); //â˜…1_4 : ì£¼ì¸ê³µ ì¢Œí‘œì¶œë ¥
        }
        //ì£¼ì¸ê³µì¶œë ¥í•¨ìˆ˜
        function drawHere() {
            drawingPen.fillStyle = 'black';
            drawingPen.fillRect(x, y, 10, 10);
        }
          function enemy1() {
            if (enemyVisible) {
                drawingPen.fillStyle = 'red';
                drawingPen.fillRect(enemyX, enemyY, enemySize, enemySize);
            }
        }
         function collision1() {
            if (!enemyVisible) return;

            if (
                x < enemyX + enemySize &&
                x + 10 > enemyX &&
                y < enemyY + enemySize &&
                y + 10 > enemyY
            ) {
                enemyVisible = false; // ì¶©ëŒ ì‹œ ì  ì‚¬ë¼ì§
            }
        }
        // í™”ë©´ì— ì¶œë ¥í•˜ê¸°
        function draw() {
            drawingPen.fillText(`x: ${x} y: ${y}`, 10, 20); //â˜…1_4 : ìº”ë²„ìŠ¤ ì™¼ìª½ ìƒë‹¨ì— í…ìŠ¤íŠ¸ ì¶œë ¥
            drawingPen.clearRect(0, 0, canvas.width, canvas.height); //í™”ë©´ì§€ìš°ê¸°
            drawHere(); //ì£¼ì¸ê³µì¶œë ¥í•¨ìˆ˜í˜¸ì¶œ

            move_limit(); //â˜…1_4 : ì£¼ì¸ê³µ ì´ë™ì œí•œ í•¨ìˆ˜í˜¸ì¶œ
            drawCoordinate(); //â˜…1_4 : í…ìŠ¤íŠ¸ ì¶œë ¥ í•¨ìˆ˜í˜¸ì¶œ
            enemy1();        // ğŸ”´ ì  ê·¸ë¦¬ê¸° í˜¸ì¶œ
            collision1();  
        }
       
        setInterval(draw, 16); // 60FPS
        
        // PC ë°©í–¥í‚¤ ì¡°ì‘
        document.addEventListener('keydown', (e) => {
            switch (e.key) {
                case 'ArrowLeft' : moveLeft(); break; 
                case 'ArrowRight' : moveRight(); break; 
                case 'ArrowUp' : moveUp(); break; 
                case 'ArrowDown' : moveDown(); break; 
            }
        });
    </script>
</body>
</html>